<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>World | –ó–µ–º–ª—è ‚Äî –û–Ω–ª–∞–π–Ω Discord</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="–û–Ω–ª–∞–π–Ω –Ω–∞ Discord —Å–µ—Ä–≤–µ—Ä–µ World | –ó–µ–º–ª—è.">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #020617 0, #020617 45%, #020617 60%, #000);
      color: #f9fafb;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      padding: 20px;
    }
    .wrapper { max-width: 960px; width: 100%; }
    .card {
      background: rgba(15,23,42,0.95);
      border-radius: 24px;
      padding: 24px 20px;
      box-shadow: 0 24px 60px rgba(0,0,0,0.6);
      border: 1px solid rgba(148,163,184,0.28);
      backdrop-filter: blur(18px);
    }

    .title {
      font-size: 24px;
      font-weight: 800;
      background: linear-gradient(90deg, #22c55e, #0ea5e9);
      -webkit-background-clip: text;
      color: transparent;
      margin-bottom: 8px;
    }
    .subtitle {
      font-size: 13px;
      color: #9ca3af;
      margin-bottom: 16px;
    }

    /* NAV */
    .nav {
      display: flex;
      gap: 10px;
      margin: 10px 0 20px;
      flex-wrap: wrap;
    }
    .nav-btn {
      padding: 8px 14px;
      border-radius: 999px;
      background: rgba(255,255,255,0.06);
      color: #e5e7eb;
      border: 1px solid rgba(148,163,184,0.35);
      text-decoration: none;
      font-size: 14px;
      font-weight: 600;
      transition: 0.2s ease;
    }
    .nav-btn:hover {
      background: rgba(255,255,255,0.16);
      transform: translateY(-1px);
    }
    .nav-btn.active {
      background: linear-gradient(90deg, #22c55e, #0ea5e9);
      color: #020617;
      border-color: transparent;
    }

    .stats {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 16px;
    }
    .stat-card {
      flex: 1 1 130px;
      border-radius: 16px;
      padding: 10px 12px;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(148,163,184,0.35);
      font-size: 13px;
    }
    .stat-label { color: #9ca3af; font-size: 11px; text-transform: uppercase; letter-spacing: .08em; }
    .stat-value { font-size: 18px; font-weight: 700; margin-top: 4px; }

    .actions {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
      margin-bottom: 18px;
    }
    .btn {
      padding: 9px 14px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }
    .btn-primary {
      background: #5865F2;
      color: #f9fafb;
    }
    .btn-secondary {
      background: transparent;
      border: 1px solid rgba(148,163,184,0.6);
      color: #e5e7eb;
    }

    .widget-box {
      margin-top: 10px;
      border-radius: 16px;
      overflow: hidden;
      border: 1px solid rgba(148,163,184,0.35);
    }

    .footer {
      font-size: 11px;
      color: #6b7280;
      text-align: center;
      margin-top: 16px;
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="card">
      <div class="title">World | –ó–µ–º–ª—è ‚Äî Discord –æ–Ω–ª–∞–π–Ω</div>

      <nav class="nav">
        <a href="index.html" class="nav-btn">üí≥ –î–æ–Ω–∞—Ç</a>
        <a href="online.html" class="nav-btn">üìä –û–Ω–ª–∞–π–Ω Discord</a>
        <a href="info.html" class="nav-btn">üìò –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</a>
      </nav>

      <div class="subtitle">
        –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —Å–∫–æ–ª—å–∫–æ –ª—é–¥–µ–π —Å–µ–π—á–∞—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∏ —Å—Ä–∞–∑—É –∑–∞–π—Ç–∏ –≤ Discord.
      </div>

      <div class="stats">
        <div class="stat-card">
          <div class="stat-label">–°–µ–π—á–∞—Å –æ–Ω–ª–∞–π–Ω</div>
          <div class="stat-value" id="onlineCount">...</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">–í—Å–µ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</div>
          <div class="stat-value" id="memberCount">...</div>
        </div>
      </div>

      <div class="actions">
        <button class="btn btn-primary" id="openDiscord">
          –û—Ç–∫—Ä—ã—Ç—å Discord —Å–µ—Ä–≤–µ—Ä
        </button>
        <a href="index.html" style="text-decoration:none;">
          <button class="btn btn-secondary" type="button">
            ‚¨Ö –ù–∞–∑–∞–¥ –∫ –¥–æ–Ω–∞—Ç—É
          </button>
        </a>
      </div>

      <div class="widget-box">
        <iframe
          id="discordWidget"
          src=""
          width="100%"
          height="350"
          allowtransparency="true"
          frameborder="0"
          sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts">
        </iframe>
      </div>

      <div class="footer">
        –î–∞–Ω–Ω—ã–µ –ø–æ –æ–Ω–ª–∞–π–Ω—É –±–µ—Ä—É—Ç—Å—è –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ Discord-–≤–∏–¥–∂–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞.
      </div>
    </div>
  </div>

  <script>
    // üëâ –í–°–¢–ê–í–¨ –°–Æ–î–ê ID –°–í–û–ï–ì–û –°–ï–†–í–ï–†–ê (—Ü–∏—Ñ—Ä—ã, –ù–ï –∏–Ω–≤–∞–π—Ç)
    const GUILD_ID = "1064198835808784425";

    // –ò–Ω–≤–∞–π—Ç
    const discordInvite = "https://discord.gg/nGFRSTAghv";

    // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏
    document.querySelector('a[href="online.html"]').classList.add("active");

    // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º iframe —Å –≤–∏–¥–∂–µ—Ç–æ–º
    const widgetIframe = document.getElementById("discordWidget");
    widgetIframe.src = `https://discord.com/widget?id=${GUILD_ID}&theme=dark`;

    // –ö–Ω–æ–ø–∫–∞ "–û—Ç–∫—Ä—ã—Ç—å Discord"
    document.getElementById("openDiscord").onclick = () => {
      window.open(discordInvite, "_blank");
    };

    // –ó–∞–≥—Ä—É–∂–∞–µ–º JSON-–≤–∏–¥–∂–µ—Ç, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –æ–Ω–ª–∞–π–Ω/–≤—Å–µ–≥–æ
    const onlineCountEl = document.getElementById("onlineCount");
    const memberCountEl = document.getElementById("memberCount");

    fetch(`https://discord.com/api/guilds/${GUILD_ID}/widget.json`)
      .then(res => {
        if (!res.ok) throw new Error("Widget disabled");
        return res.json();
      })
      .then(data => {
        const online = data.presence_count || (data.members ? data.members.length : "‚Äî");
        const total = data.approximate_member_count || "‚Äî";
        onlineCountEl.textContent = online;
        memberCountEl.textContent = total;
      })
      .catch(() => {
        onlineCountEl.textContent = "–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ";
        memberCountEl.textContent = "–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ";
      });
  </script>
</body>
</html>
